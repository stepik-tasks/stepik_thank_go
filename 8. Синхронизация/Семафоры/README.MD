### ü§î –ü–∏—à–µ–º —Å–µ–º–∞—Ñ–æ—Ä

–Ø —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª —Ç–∏–ø `Semaphore`:


```go
// Semaphore –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ–º–∞—Ñ–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
type Semaphore struct {
    n   int
    val int
}

// NewSemaphore —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–µ–º–∞—Ñ–æ—Ä —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
func NewSemaphore(n int) *Semaphore {
    return &Semaphore{n: n}
}

// Acquire –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ —Å–µ–º–∞—Ñ–æ—Ä–µ, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ.
// –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–∑—ã–≤–∞—é—â—É—é –≥–æ—Ä—É—Ç–∏–Ω—É.
func (s *Semaphore) Acquire() {
    if s.val < s.n {
        s.val += 1
        return
    }
    for s.val >= s.n {
    }
}

// Release –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ –≤ —Å–µ–º–∞—Ñ–æ—Ä–µ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç
// –æ–¥–Ω—É –∏–∑ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω (–µ—Å–ª–∏ —Ç–∞–∫–∏–µ –±—ã–ª–∏).
func (s *Semaphore) Release() {
    s.val -= 1
}
```

–° –Ω–∏–º –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º:

- –ì–æ–Ω–∫–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—á–µ—Ç—á–∏–∫–∞ val.
- –û–∂–∏–¥–∞–Ω–∏–µ –≤ Acquire —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª (busy-waiting).
- –°–µ–º–∞—Ñ–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç üòÅ

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Semaphore, –ª–∏—à–µ–Ω–Ω—ã–π —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º.

–ß—Ç–æ–±—ã –Ω–µ —É—Å–ª–æ–∂–Ω—è—Ç—å, –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è –≤–æ—Ç –æ —á–µ–º:

- `n > 0`;
- `Release` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ `Acquire`;
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ `Release` –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ `Acquire`.

–í—Å–µ —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è –º–æ–∂–Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å.

