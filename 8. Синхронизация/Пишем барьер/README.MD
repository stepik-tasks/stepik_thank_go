### –ü–∏—à–µ–º –±–∞—Ä—å–µ—Ä

–Ø —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª —Ç–∏–ø `Barrier`:

```go
// Barrier –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –±–∞—Ä—å–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
type Barrier struct {
    n   int
    val int
}

// NewBarrier —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –±–∞—Ä—å–µ—Ä —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–æ—Ä–æ–≥–æ–º.
func NewBarrier(n int) *Barrier {
    return &Barrier{n: n}
}

// Touch —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—ã–∑—ã–≤–∞—é—â–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ –±–∞—Ä—å–µ—Ä–∞.
// –ï—Å–ª–∏ –±–∞—Ä—å–µ—Ä–∞ –¥–æ—Å—Ç–∏–≥–ª–∏ –º–µ–Ω—å—à–µ n –≥–æ—Ä—É—Ç–∏–Ω, Touch –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–∑—ã–≤–∞—é—â—É—é –≥–æ—Ä—É—Ç–∏–Ω—É.
// –ö–æ–≥–¥–∞ n –≥–æ—Ä—É—Ç–∏–Ω –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –±–∞—Ä—å–µ—Ä–∞, Touch —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Ö –≤—Å–µ.
func (b *Barrier) Touch() {
    b.val += 1
    for b.val < b.n {
    }
}
```

–° –Ω–∏–º –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º:

- –ì–æ–Ω–∫–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—á–µ—Ç—á–∏–∫–∞ val.
- –û–∂–∏–¥–∞–Ω–∏–µ –≤ Touch —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª (busy-waiting).
- –ë–∞—Ä—å–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç üòî

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `Barrier`, –ª–∏—à–µ–Ω–Ω—ã–π —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º.

–ß—Ç–æ–±—ã –Ω–µ —É—Å–ª–æ–∂–Ω—è—Ç—å, –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è, —á—Ç–æ –±–∞—Ä—å–µ—Ä –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π, –∞ —á–∏—Å–ª–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –Ω–∏–º –≥–æ—Ä—É—Ç–∏–Ω —Å—Ç—Ä–æ–≥–æ —Ä–∞–≤–Ω–æ –ø–æ—Ä–æ–≥—É –±–∞—Ä—å–µ—Ä–∞. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –ø–æ—Å–ª–µ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—è –ø–æ—Ä–æ–≥–∞ –Ω–æ–≤—ã—Ö –∫–∞—Å–∞–Ω–∏–π –Ω–µ –±—É–¥–µ—Ç.

